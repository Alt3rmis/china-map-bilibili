/**
 * æ•°æ®å¤„ç†æµæ°´çº¿
 * ä» raw_data.js è¯»å–æ–°æ•°æ®ï¼Œä¸ç°æœ‰ data.js åˆå¹¶ï¼Œä¿ç•™ manualCity å€¼
 * ä½¿ç”¨æ–¹æ³•: node scripts/process-raw-data.js
 */

const fs = require('fs');
const path = require('path');

// è¯»å– raw_data.js
function readRawData() {
    const rawPath = path.join(__dirname, '..', 'data', 'raw_data.js');
    if (!fs.existsSync(rawPath)) {
        console.error('\nâŒ é”™è¯¯: data/raw_data.js æ–‡ä»¶ä¸å­˜åœ¨');
        console.log('è¯·å…ˆå°† Bç«™ æ§åˆ¶å°è·å–çš„æ•°æ®ç²˜è´´åˆ° data/raw_data.js æ–‡ä»¶ä¸­');
        process.exit(1);
    }

    const rawContent = fs.readFileSync(rawPath, 'utf8');

    // è·å– RAW_DATA æ•°ç»„
    const getData = new Function(rawContent + '; return typeof RAW_DATA !== "undefined" ? RAW_DATA : [];');
    const rawData = getData();

    if (!Array.isArray(rawData)) {
        console.error('\nâŒ é”™è¯¯: raw_data.js ä¸­ RAW_DATA ä¸æ˜¯æ•°ç»„');
        console.log('è¯·æ£€æŸ¥ raw_data.js æ ¼å¼ï¼ŒRAW_DATA åº”è¯¥æ˜¯æ•°ç»„');
        process.exit(1);
    }

    console.log(`âœ“ è¯»å–åŸå§‹æ•°æ®ï¼š${rawData.length} æ¡è§†é¢‘`);
    return rawData;
}

// è¯»å–ç°æœ‰ data.jsï¼ˆä¿ç•™ manualCityï¼‰
function readExistingData() {
    const dataPath = path.join(__dirname, '..', 'data', 'data.js');

    if (!fs.existsSync(dataPath)) {
        console.log('âš ï¸  data.js ä¸å­˜åœ¨ï¼Œå°†åˆ›å»ºæ–°æ–‡ä»¶');
        return null;
    }

    const dataContent = fs.readFileSync(dataPath, 'utf8');

    // ä½¿ç”¨ Function æ„é€ å™¨æ¥è·å–å¯¼å‡ºçš„å˜é‡
    const getData = new Function(dataContent + '; return { provinceData: typeof provinceData !== "undefined" ? provinceData : null, cityData: typeof cityData !== "undefined" ? cityData : null };');
    const data = getData();

    if (data.provinceData) {
        console.log(`âœ“ è¯»å–ç°æœ‰çœä»½æ•°æ®ï¼š${Object.keys(data.provinceData).length} ä¸ªçœä»½`);
        return { type: 'province', data: data.provinceData };
    } else if (data.cityData) {
        console.log(`âœ“ è¯»å–ç°æœ‰åŸå¸‚æ•°æ®ï¼š${Object.keys(data.cityData).length} ä¸ªåŸå¸‚`);
        return { type: 'city', data: data.cityData };
    } else {
        console.log('âš ï¸  data.js ä¸ºç©ºæˆ–æ ¼å¼é”™è¯¯');
        return null;
    }
}

// æŒ‰ title+url åŒ¹é…è§†é¢‘ï¼ˆç”¨äºä¿ç•™ manualCityï¼‰
function findVideoByTitleAndUrl(existingData, newVideo) {
    const newVideoId = `${newVideo.title}-${newVideo.url}`;

    if (existingData.type === 'province') {
        // åœ¨çœä»½æ•°æ®ä¸­æŸ¥æ‰¾
        for (const [province, provinceInfo] of Object.entries(existingData.data)) {
            const videos = provinceInfo.videos || [];
            for (const video of videos) {
                const existingId = `${video.title}-${video.url}`;
                if (existingId === newVideoId) {
                    return { found: true, video };
                }
            }
        }
    } else {
        // åœ¨åŸå¸‚æ•°æ®ä¸­æŸ¥æ‰¾
        for (const [city, cityInfo] of Object.entries(existingData.data)) {
            const videos = cityInfo.videos || [];
            for (const video of videos) {
                const existingId = `${video.title}-${video.url}`;
                if (existingId === newVideoId) {
                    return { found: true, video };
                }
            }
        }
    }

    return { found: false };
}

// æå–åŸå¸‚åç§°ï¼ˆä½¿ç”¨ extract-cities.js çš„é€»è¾‘ï¼‰
function extractCitiesFromTitle(title) {
    // å®Œæ•´çš„ä¸­å›½åŸå¸‚åˆ—è¡¨
    const ALL_CITIES = [
        // ç›´è¾–å¸‚
        'åŒ—äº¬', 'ä¸Šæµ·', 'å¤©æ´¥', 'é‡åº†',
        // çœä¼šåŸå¸‚
        'å¹¿å·', 'æ·±åœ³', 'æˆéƒ½', 'æ­å·', 'å—äº¬', 'æ­¦æ±‰', 'é•¿æ²™', 'è¥¿å®‰', 'éƒ‘å·',
        'çŸ³å®¶åº„', 'å¤ªåŸ', 'åˆè‚¥', 'å—æ˜Œ', 'ç¦å·', 'å¦é—¨', 'å—å®', 'æµ·å£', 'æ˜†æ˜', 'è´µé˜³',
        'æ‹‰è¨', 'å…°å·', 'è¥¿å®', 'é“¶å·', 'ä¹Œé²æœ¨é½', 'å‘¼å’Œæµ©ç‰¹', 'é•¿æ˜¥', 'æ²ˆé˜³', 'å“ˆå°”æ»¨', 'æµå—',
        // æ²³åŒ—
        'å”å±±', 'ç§¦çš‡å²›', 'é‚¯éƒ¸', 'é‚¢å°', 'ä¿å®š', 'å¼ å®¶å£', 'æ‰¿å¾·', 'æ²§å·', 'å»ŠåŠ', 'è¡¡æ°´',
        'è¾›é›†', 'æ™‹å·', 'æ–°ä¹', 'éµåŒ–', 'è¿å®‰', 'æ­¦å®‰', 'å—å®«', 'æ²™æ²³', 'æ¶¿å·', 'å®šå·',
        'å®‰å›½', 'é«˜ç¢‘åº—', 'æ³Šå¤´', 'ä»»ä¸˜', 'é»„éª…', 'æ²³é—´', 'éœ¸å·', 'ä¸‰æ²³', 'æ·±å·',
        // å±±è¥¿
        'å¤§åŒ', 'é˜³æ³‰', 'é•¿æ²»', 'æ™‹åŸ', 'æœ”å·', 'æ™‹ä¸­', 'è¿åŸ', 'å¿»å·', 'ä¸´æ±¾', 'å•æ¢',
        'å¤äº¤', 'é«˜å¹³', 'ä»‹ä¼‘', 'æ°¸æµ', 'æ²³æ´¥', 'åŸå¹³', 'ä¾¯é©¬', 'éœå·', 'å­ä¹‰', 'æ±¾é˜³',
        // å†…è’™å¤
        'åŒ…å¤´', 'ä¹Œæµ·', 'èµ¤å³°', 'é€šè¾½', 'é„‚å°”å¤šæ–¯', 'å‘¼ä¼¦è´å°”', 'å·´å½¦æ·–å°”', 'ä¹Œå…°å¯Ÿå¸ƒ',
        'æ»¡æ´²é‡Œ', 'äºŒè¿æµ©ç‰¹', 'ä¹Œå…°æµ©ç‰¹', 'é˜¿å°”å±±', 'é”¡æ—æµ©ç‰¹', 'å·´å½¦æµ©ç‰¹', 'ä¸°é•‡', 'ç‰™å…‹çŸ³',
        // è¾½å®
        'å¤§è¿', 'éå±±', 'æŠšé¡º', 'æœ¬æºª', 'ä¸¹ä¸œ', 'é”¦å·', 'è¥å£', 'é˜œæ–°', 'è¾½é˜³', 'ç›˜é”¦',
        'é“å²­', 'æœé˜³', 'è‘«èŠ¦å²›', 'ç“¦æˆ¿åº—', 'æµ·åŸ', 'ä¸œæ¸¯', 'å‡¤åŸ', 'å‡Œæµ·', 'åŒ—é•‡', 'å¤§çŸ³æ¡¥',
        'ç›–å·', 'ç¯å¡”', 'è°ƒå…µå±±', 'å¼€åŸ',
        // å‰æ—
        'å‰æ—', 'å››å¹³', 'è¾½æº', 'é€šåŒ–', 'ç™½å±±', 'æ¾åŸ', 'ç™½åŸ',
        'å…¬ä¸»å²­', 'æ¢…æ²³å£', 'é›†å®‰', 'ä¸´æ±Ÿ', 'å¤§å®‰', 'æ´®å—', 'ç²æ˜¥', 'é¾™äº•', 'å’Œé¾™', 'æ•¦åŒ–',
        // é»‘é¾™æ±Ÿ
        'é½é½å“ˆå°”', 'é¸¡è¥¿', 'é¹¤å²—', 'åŒé¸­å±±', 'å¤§åº†', 'ä¼Šæ˜¥', 'ä½³æœ¨æ–¯', 'ä¸ƒå°æ²³', 'ç‰¡ä¸¹æ±Ÿ',
        'é»‘æ²³', 'ç»¥åŒ–', 'ç»¥èŠ¬æ²³', 'åŒæ±Ÿ', 'è™æ—', 'å¯†å±±', 'å¯Œé”¦', 'æ¼ æ²³', 'é“åŠ›', 'å°šå¿—', 'äº”å¸¸', 'æµ·ä¼¦', 'è‚‡ä¸œ',
        // æ±Ÿè‹
        'è‹å·', 'æ— é”¡', 'å¸¸å·', 'å—é€š', 'è¿äº‘æ¸¯', 'æ·®å®‰', 'ç›åŸ', 'æ‰¬å·', 'é•‡æ±Ÿ', 'æ³°å·', 'å®¿è¿',
        'æ±Ÿé˜´', 'å®œå…´', 'æ–°æ²‚', 'é‚³å·', 'æº§é˜³', 'é‡‘å›', 'å¸¸ç†Ÿ', 'å¼ å®¶æ¸¯', 'æ˜†å±±', 'å¤ªä»“', 'å¯ä¸œ', 'å¦‚çš‹',
        // æµ™æ±Ÿ
        'å®æ³¢', 'æ¸©å·', 'å˜‰å…´', 'æ¹–å·', 'ç»å…´', 'é‡‘å', 'è¡¢å·', 'èˆŸå±±', 'å°å·', 'ä¸½æ°´',
        'å»ºå¾·', 'ä¸´å®‰', 'ä½™å§š', 'æ…ˆæºª', 'ç‘å®‰', 'ä¹æ¸…', 'æµ·å®', 'å¹³æ¹–', 'æ¡ä¹¡', 'è¯¸æš¨', 'åµŠå·',
        // å®‰å¾½
        'èŠœæ¹–', 'èšŒåŸ ', 'æ·®å—', 'é©¬éå±±', 'æ·®åŒ—', 'é“œé™µ', 'å®‰åº†', 'é»„å±±', 'æ»å·', 'é˜œé˜³', 'å®¿å·',
        'å…­å®‰', 'äº³å·', 'æ± å·', 'å®£åŸ', 'ç•Œé¦–', 'æ¡åŸ', 'å®å›½', 'å¤©é•¿', 'æ˜å…‰',
        // ç¦å»º
        'è†ç”°', 'ä¸‰æ˜', 'æ³‰å·', 'æ¼³å·', 'å—å¹³', 'é¾™å²©', 'å®å¾·',
        'ç¦æ¸…', 'é‚µæ­¦', 'æ­¦å¤·å±±', 'å»ºç“¯', 'æ°¸å®‰', 'çŸ³ç‹®', 'æ™‹æ±Ÿ', 'å—å®‰', 'é¾™æµ·', 'æ¼³å¹³',
        // æ±Ÿè¥¿
        'æ™¯å¾·é•‡', 'èä¹¡', 'ä¹æ±Ÿ', 'æ–°ä½™', 'é¹°æ½­', 'èµ£å·', 'å‰å®‰', 'å®œæ˜¥', 'æŠšå·', 'ä¸Šé¥¶',
        'ç‘æ˜Œ', 'ä¹å¹³', 'ç‘é‡‘', 'å¾·å…´', 'è´µæºª', 'æ¨Ÿæ ‘', 'ä¸°åŸ', 'é«˜å®‰',
        // å±±ä¸œ
        'é’å²›', 'æ·„åš', 'æ£åº„', 'ä¸œè¥', 'çƒŸå°', 'æ½åŠ', 'æµå®', 'æ³°å®‰', 'å¨æµ·', 'æ—¥ç…§', 'ä¸´æ²‚',
        'å¾·å·', 'èŠåŸ', 'æ»¨å·', 'èæ³½', 'èƒ¶å·', 'å³å¢¨', 'å¹³åº¦', 'è±è¥¿', 'æ»•å·', 'é¾™å£',
        'è±é˜³', 'è±å·', 'æ‹›è¿œ', 'æ –éœ', 'é’å·', 'è¯¸åŸ', 'å¯¿å…‰',
        // æ²³å—
        'å¼€å°', 'æ´›é˜³', 'å¹³é¡¶å±±', 'å®‰é˜³', 'é¹¤å£', 'æ–°ä¹¡', 'ç„¦ä½œ', 'æ¿®é˜³', 'è®¸æ˜Œ', 'æ¼¯æ²³',
        'ä¸‰é—¨å³¡', 'å—é˜³', 'å•†ä¸˜', 'ä¿¡é˜³', 'å‘¨å£', 'é©»é©¬åº—', 'è¥é˜³', 'æ–°éƒ‘', 'ç™»å°', 'å·©ä¹‰',
        'æ–°å¯†', 'åƒå¸ˆ', 'èˆé’¢', 'æ±å·', 'æ—å·', 'å«è¾‰', 'è¾‰å¿', 'æ²é˜³',
        // æ¹–åŒ—
        'é»„çŸ³', 'åå °', 'å®œæ˜Œ', 'è¥„é˜³', 'é„‚å·', 'è†é—¨', 'å­æ„Ÿ', 'è†å·', 'é»„å†ˆ', 'å’¸å®', 'éšå·',
        'å¤§å†¶', 'ä¸¹æ±Ÿå£', 'å®œéƒ½', 'å½“é˜³', 'ææ±Ÿ', 'è€æ²³å£', 'æ£é˜³', 'å®œåŸ', 'é’Ÿç¥¥', 'äº¬å±±', 'å®‰é™†', 'æ½œæ±Ÿ', 'ä»™æ¡ƒ', 'å¤©é—¨',
        // æ¹–å—
        'æ ªæ´²', 'æ¹˜æ½­', 'è¡¡é˜³', 'é‚µé˜³', 'å²³é˜³', 'å¸¸å¾·', 'å¼ å®¶ç•Œ', 'ç›Šé˜³', 'éƒ´å·', 'æ°¸å·',
        'æ€€åŒ–', 'å¨„åº•', 'æµé˜³', 'é†´é™µ', 'éŸ¶å±±', 'è€’é˜³', 'å¸¸å®', 'æ­¦å†ˆ', 'æ±¨ç½—', 'ä¸´æ¹˜',
        'æ´¥å¸‚', 'æ²…æ±Ÿ', 'èµ„å…´', 'æ´ªæ±Ÿ', 'å¹³æ±Ÿå¿',
        // å¹¿ä¸œ
        'ç æµ·', 'æ±•å¤´', 'ä½›å±±', 'éŸ¶å…³', 'æ¹›æ±Ÿ', 'è‚‡åº†', 'æ±Ÿé—¨', 'èŒ‚å', 'æƒ å·', 'æ¢…å·',
        'æ±•å°¾', 'æ²³æº', 'é˜³æ±Ÿ', 'æ¸…è¿œ', 'ä¸œè', 'ä¸­å±±', 'æ½®å·', 'æ­é˜³', 'äº‘æµ®',
        'ä¹æ˜Œ', 'å—é›„', 'å°å±±', 'å¼€å¹³', 'é¹¤å±±', 'æ©å¹³', 'å»‰æ±Ÿ', 'é›·å·', 'å´å·', 'åŒ–å·', 'ä¿¡å®œ', 'é«˜å·',
        'å››ä¼š', 'å…´å®', 'é™†ä¸°', 'é˜³æ˜¥', 'è‹±å¾·', 'è¿å·', 'æ™®å®', 'ç½—å®š',
        // å¹¿è¥¿
        'æŸ³å·', 'æ¡‚æ—', 'æ¢§å·', 'åŒ—æµ·', 'é˜²åŸæ¸¯', 'é’¦å·', 'è´µæ¸¯', 'ç‰æ—', 'ç™¾è‰²', 'è´ºå·',
        'æ²³æ± ', 'æ¥å®¾', 'å´‡å·¦', 'å²‘æºª', 'ä¸œå…´', 'æ¡‚å¹³', 'åŒ—æµ', 'é–è¥¿', 'å¹³æœ', 'å‡­ç¥¥', 'åˆå±±', 'è”æµ¦', 'æ¨ªå·',
        // æµ·å—
        'ä¸‰äºš', 'ä¸‰æ²™', 'å„‹å·', 'äº”æŒ‡å±±', 'ç¼æµ·', 'æ–‡æ˜Œ', 'ä¸‡å®', 'ä¸œæ–¹', 'é™µæ°´',
        // å››å·
        'è‡ªè´¡', 'æ”€æèŠ±', 'æ³¸å·', 'å¾·é˜³', 'ç»µé˜³', 'å¹¿å…ƒ', 'é‚å®', 'å†…æ±Ÿ', 'ä¹å±±', 'å—å……', 'çœ‰å±±', 'å®œå®¾', 'å¹¿å®‰', 'è¾¾å·', 'é›…å®‰', 'å·´ä¸­', 'èµ„é˜³',
        'éƒ½æ±Ÿå °', 'å½­å·', 'é‚›å´ƒ', 'å´‡å·', 'å¹¿æ±‰', 'ä»€é‚¡', 'ç»µç«¹', 'æ±Ÿæ²¹', 'å³¨çœ‰å±±', 'é˜†ä¸­', 'åè“¥', 'ä¸‡æº', 'ç®€é˜³', 'è¥¿æ˜Œ',
        // è´µå·
        'å…­ç›˜æ°´', 'éµä¹‰', 'å®‰é¡º', 'æ¯•èŠ‚', 'é“œä»',
        'æ¸…é•‡', 'èµ¤æ°´', 'ä»æ€€', 'å‡¯é‡Œ', 'éƒ½åŒ€', 'å…´ä¹‰', 'ç¦æ³‰',
        // äº‘å—
        'æ›²é–', 'ç‰æºª', 'ä¿å±±', 'æ˜­é€š', 'ä¸½æ±Ÿ', 'æ™®æ´±', 'ä¸´æ²§',
        'å®‰å®', 'å®£å¨', 'è…¾å†²', 'æ¥šé›„', 'å¤§ç†', 'æ™¯æ´ª', 'èŠ’å¸‚', 'ç‘ä¸½',
        // è¥¿è—
        'æ—¥å–€åˆ™', 'æ˜Œéƒ½', 'æ—èŠ', 'å±±å—', 'é‚£æ›²',
        // é™•è¥¿
        'é“œå·', 'å®é¸¡', 'å’¸é˜³', 'æ¸­å—', 'å»¶å®‰', 'æ±‰ä¸­', 'æ¦†æ—', 'å®‰åº·', 'å•†æ´›',
        'å…´å¹³', 'éŸ©åŸ', 'åé˜´',
        // ç”˜è‚ƒ
        'é‡‘æ˜Œ', 'ç™½é“¶', 'å¤©æ°´', 'æ­¦å¨', 'å¼ æ–', 'å¹³å‡‰', 'é…’æ³‰', 'åº†é˜³', 'å®šè¥¿', 'é™‡å—',
        'ç‰é—¨', 'æ•¦ç…Œ', 'åˆä½œ', 'æ´®å—å¸‚',
        // é’æµ·
        'æµ·ä¸œ',
        'æ ¼å°”æœ¨', 'å¾·ä»¤å“ˆ',
        // å®å¤
        'çŸ³å˜´å±±', 'å´å¿ ', 'å›ºåŸ', 'ä¸­å«',
        'çµæ­¦', 'é’é“œå³¡',
        // æ–°ç–†
        'å…‹æ‹‰ç›ä¾', 'åé²ç•ª', 'å“ˆå¯†', 'æ˜Œå‰', 'åšå°”å¡”æ‹‰', 'å·´éŸ³éƒ­æ¥', 'é˜¿å…‹è‹', 'å…‹å­œå‹’è‹', 'å–€ä»€', 'å’Œç”°', 'ä¼ŠçŠ', 'å¡”åŸ', 'é˜¿å‹’æ³°',
        'é˜œåº·', 'åº“å°”å‹’', 'é˜¿å›¾ä»€', 'é˜¿å…‹è‹å¸‚', 'å–€ä»€å¸‚', 'å’Œç”°å¸‚', 'ä¼Šå®', 'å¥å±¯', 'å¡”åŸ', 'ä¹Œè‹', 'é˜¿å‹’æ³°'
    ];

    // æŒ‰åŸå¸‚åé•¿åº¦é™åºæ’åºï¼Œä¼˜å…ˆåŒ¹é…æ›´é•¿çš„åŸå¸‚å
    ALL_CITIES.sort((a, b) => b.length - a.length);

    const foundCities = new Set();
    const checked = new Set();

    for (const city of ALL_CITIES) {
        const cityKey = city;
        if (checked.has(cityKey)) continue;
        checked.add(cityKey);

        // ä½¿ç”¨æ­£åˆ™åŒ¹é…æ•´ä¸ªåŸå¸‚åï¼ˆé¿å…éƒ¨åˆ†åŒ¹é…ï¼‰
        const regex = new RegExp(city, 'g');
        let match;
        while ((match = regex.exec(title)) !== null) {
            // æ£€æŸ¥åŒ¹é…æ˜¯å¦å®Œæ•´
            const matchedText = match[0];
            if (matchedText === city) {
                foundCities.add(city);
            }
        }
    }

    return Array.from(foundCities).sort();
}

// åŸå¸‚åˆ°çœä»½çš„æ˜ å°„
const CITY_TO_PROVINCE = {
    // ç›´è¾–å¸‚
    'åŒ—äº¬': 'åŒ—äº¬', 'ä¸Šæµ·': 'ä¸Šæµ·', 'å¤©æ´¥': 'å¤©æ´¥', 'é‡åº†': 'é‡åº†',
    // çœä¼šåŸå¸‚
    'å¹¿å·': 'å¹¿ä¸œ', 'æ·±åœ³': 'å¹¿ä¸œ', 'æˆéƒ½': 'å››å·', 'æ­å·': 'æµ™æ±Ÿ', 'å—äº¬': 'æ±Ÿè‹',
    'æ­¦æ±‰': 'æ¹–åŒ—', 'é•¿æ²™': 'æ¹–å—', 'è¥¿å®‰': 'é™•è¥¿', 'éƒ‘å·': 'æ²³å—',
    'çŸ³å®¶åº„': 'æ²³åŒ—', 'å¤ªåŸ': 'å±±è¥¿', 'åˆè‚¥': 'å®‰å¾½', 'å—æ˜Œ': 'æ±Ÿè¥¿',
    'ç¦å·': 'ç¦å»º', 'å¦é—¨': 'ç¦å»º', 'å—å®': 'å¹¿è¥¿', 'æµ·å£': 'æµ·å—',
    'æ˜†æ˜': 'äº‘å—', 'è´µé˜³': 'è´µå·', 'æ‹‰è¨': 'è¥¿è—', 'å…°å·': 'ç”˜è‚ƒ',
    'è¥¿å®': 'é’æµ·', 'é“¶å·': 'å®å¤', 'ä¹Œé²æœ¨é½': 'æ–°ç–†', 'å‘¼å’Œæµ©ç‰¹': 'å†…è’™å¤',
    'é•¿æ˜¥': 'å‰æ—', 'æ²ˆé˜³': 'è¾½å®', 'å“ˆå°”æ»¨': 'é»‘é¾™æ±Ÿ', 'æµå—': 'å±±ä¸œ',
    // æ²³åŒ—
    'å”å±±': 'æ²³åŒ—', 'ç§¦çš‡å²›': 'æ²³åŒ—', 'é‚¯éƒ¸': 'æ²³åŒ—', 'é‚¢å°': 'æ²³åŒ—', 'ä¿å®š': 'æ²³åŒ—',
    'å¼ å®¶å£': 'æ²³åŒ—', 'æ‰¿å¾·': 'æ²³åŒ—', 'æ²§å·': 'æ²³åŒ—', 'å»ŠåŠ': 'æ²³åŒ—', 'è¡¡æ°´': 'æ²³åŒ—',
    'è¾›é›†': 'æ²³åŒ—', 'æ™‹å·': 'æ²³åŒ—', 'æ–°ä¹': 'æ²³åŒ—', 'éµåŒ–': 'æ²³åŒ—', 'è¿å®‰': 'æ²³åŒ—',
    'æ­¦å®‰': 'æ²³åŒ—', 'å—å®«': 'æ²³åŒ—', 'æ²™æ²³': 'æ²³åŒ—', 'æ¶¿å·': 'æ²³åŒ—', 'å®šå·': 'æ²³åŒ—',
    'å®‰å›½': 'æ²³åŒ—', 'é«˜ç¢‘åº—': 'æ²³åŒ—', 'æ³Šå¤´': 'æ²³åŒ—', 'ä»»ä¸˜': 'æ²³åŒ—', 'é»„éª…': 'æ²³åŒ—',
    'æ²³é—´': 'æ²³åŒ—', 'éœ¸å·': 'æ²³åŒ—', 'ä¸‰æ²³': 'æ²³åŒ—', 'æ·±å·': 'æ²³åŒ—',
    // å±±è¥¿
    'å¤§åŒ': 'å±±è¥¿', 'é˜³æ³‰': 'å±±è¥¿', 'é•¿æ²»': 'å±±è¥¿', 'æ™‹åŸ': 'å±±è¥¿', 'æœ”å·': 'å±±è¥¿',
    'æ™‹ä¸­': 'å±±è¥¿', 'è¿åŸ': 'å±±è¥¿', 'å¿»å·': 'å±±è¥¿', 'ä¸´æ±¾': 'å±±è¥¿', 'å•æ¢': 'å±±è¥¿',
    'å¤äº¤': 'å±±è¥¿', 'é«˜å¹³': 'å±±è¥¿', 'ä»‹ä¼‘': 'å±±è¥¿', 'æ°¸æµ': 'å±±è¥¿', 'æ²³æ´¥': 'å±±è¥¿',
    'åŸå¹³': 'å±±è¥¿', 'ä¾¯é©¬': 'å±±è¥¿', 'éœå·': 'å±±è¥¿', 'å­ä¹‰': 'å±±è¥¿', 'æ±¾é˜³': 'å±±è¥¿',
    // å†…è’™å¤
    'åŒ…å¤´': 'å†…è’™å¤', 'ä¹Œæµ·': 'å†…è’™å¤', 'èµ¤å³°': 'å†…è’™å¤', 'é€šè¾½': 'å†…è’™å¤',
    'é„‚å°”å¤šæ–¯': 'å†…è’™å¤', 'å‘¼ä¼¦è´å°”': 'å†…è’™å¤', 'å·´å½¦æ·–å°”': 'å†…è’™å¤', 'ä¹Œå…°å¯Ÿå¸ƒ': 'å†…è’™å¤',
    'æ»¡æ´²é‡Œ': 'å†…è’™å¤', 'äºŒè¿æµ©ç‰¹': 'å†…è’™å¤', 'ä¹Œå…°æµ©ç‰¹': 'å†…è’™å¤', 'é˜¿å°”å±±': 'å†…è’™å¤',
    'é”¡æ—æµ©ç‰¹': 'å†…è’™å¤', 'å·´å½¦æµ©ç‰¹': 'å†…è’™å¤', 'ä¸°é•‡': 'å†…è’™å¤', 'ç‰™å…‹çŸ³': 'å†…è’™å¤',
    // è¾½å®
    'å¤§è¿': 'è¾½å®', 'éå±±': 'è¾½å®', 'æŠšé¡º': 'è¾½å®', 'æœ¬æºª': 'è¾½å®', 'ä¸¹ä¸œ': 'è¾½å®',
    'é”¦å·': 'è¾½å®', 'è¥å£': 'è¾½å®', 'é˜œæ–°': 'è¾½å®', 'è¾½é˜³': 'è¾½å®', 'ç›˜é”¦': 'è¾½å®',
    'é“å²­': 'è¾½å®', 'æœé˜³': 'è¾½å®', 'è‘«èŠ¦å²›': 'è¾½å®', 'ç“¦æˆ¿åº—': 'è¾½å®', 'æµ·åŸ': 'è¾½å®',
    'ä¸œæ¸¯': 'è¾½å®', 'å‡¤åŸ': 'è¾½å®', 'å‡Œæµ·': 'è¾½å®', 'åŒ—é•‡': 'è¾½å®', 'å¤§çŸ³æ¡¥': 'è¾½å®',
    'ç›–å·': 'è¾½å®', 'ç¯å¡”': 'è¾½å®', 'è°ƒå…µå±±': 'è¾½å®', 'å¼€åŸ': 'è¾½å®',
    // å‰æ—
    'å‰æ—': 'å‰æ—', 'å››å¹³': 'å‰æ—', 'è¾½æº': 'å‰æ—', 'é€šåŒ–': 'å‰æ—', 'ç™½å±±': 'å‰æ—',
    'æ¾åŸ': 'å‰æ—', 'ç™½åŸ': 'å‰æ—', 'å…¬ä¸»å²­': 'å‰æ—', 'æ¢…æ²³å£': 'å‰æ—', 'é›†å®‰': 'å‰æ—',
    'ä¸´æ±Ÿ': 'å‰æ—', 'å¤§å®‰': 'å‰æ—', 'æ´®å—': 'å‰æ—', 'ç²æ˜¥': 'å‰æ—', 'é¾™äº•': 'å‰æ—', 'å’Œé¾™': 'å‰æ—', 'æ•¦åŒ–': 'å‰æ—',
    // é»‘é¾™æ±Ÿ
    'é½é½å“ˆå°”': 'é»‘é¾™æ±Ÿ', 'é¸¡è¥¿': 'é»‘é¾™æ±Ÿ', 'é¹¤å²—': 'é»‘é¾™æ±Ÿ', 'åŒé¸­å±±': 'é»‘é¾™æ±Ÿ',
    'å¤§åº†': 'é»‘é¾™æ±Ÿ', 'ä¼Šæ˜¥': 'é»‘é¾™æ±Ÿ', 'ä½³æœ¨æ–¯': 'é»‘é¾™æ±Ÿ', 'ä¸ƒå°æ²³': 'é»‘é¾™æ±Ÿ', 'ç‰¡ä¸¹æ±Ÿ': 'é»‘é¾™æ±Ÿ',
    'é»‘æ²³': 'é»‘é¾™æ±Ÿ', 'ç»¥åŒ–': 'é»‘é¾™æ±Ÿ', 'ç»¥èŠ¬æ²³': 'é»‘é¾™æ±Ÿ', 'åŒæ±Ÿ': 'é»‘é¾™æ±Ÿ', 'è™æ—': 'é»‘é¾™æ±Ÿ',
    'å¯†å±±': 'é»‘é¾™æ±Ÿ', 'å¯Œé”¦': 'é»‘é¾™æ±Ÿ', 'æ¼ æ²³': 'é»‘é¾™æ±Ÿ', 'é“åŠ›': 'é»‘é¾™æ±Ÿ', 'å°šå¿—': 'é»‘é¾™æ±Ÿ',
    'äº”å¸¸': 'é»‘é¾™æ±Ÿ', 'æµ·ä¼¦': 'é»‘é¾™æ±Ÿ', 'è‚‡ä¸œ': 'é»‘é¾™æ±Ÿ',
    // æ±Ÿè‹
    'è‹å·': 'æ±Ÿè‹', 'æ— é”¡': 'æ±Ÿè‹', 'å¸¸å·': 'æ±Ÿè‹', 'å—é€š': 'æ±Ÿè‹', 'è¿äº‘æ¸¯': 'æ±Ÿè‹',
    'æ·®å®‰': 'æ±Ÿè‹', 'ç›åŸ': 'æ±Ÿè‹', 'æ‰¬å·': 'æ±Ÿè‹', 'é•‡æ±Ÿ': 'æ±Ÿè‹', 'æ³°å·': 'æ±Ÿè‹', 'å®¿è¿': 'æ±Ÿè‹',
    'æ±Ÿé˜´': 'æ±Ÿè‹', 'å®œå…´': 'æ±Ÿè‹', 'æ–°æ²‚': 'æ±Ÿè‹', 'é‚³å·': 'æ±Ÿè‹', 'æº§é˜³': 'æ±Ÿè‹', 'é‡‘å›': 'æ±Ÿè‹',
    'å¸¸ç†Ÿ': 'æ±Ÿè‹', 'å¼ å®¶æ¸¯': 'æ±Ÿè‹', 'æ˜†å±±': 'æ±Ÿè‹', 'å¤ªä»“': 'æ±Ÿè‹', 'å¯ä¸œ': 'æ±Ÿè‹', 'å¦‚çš‹': 'æ±Ÿè‹',
    // æµ™æ±Ÿ
    'å®æ³¢': 'æµ™æ±Ÿ', 'æ¸©å·': 'æµ™æ±Ÿ', 'å˜‰å…´': 'æµ™æ±Ÿ', 'æ¹–å·': 'æµ™æ±Ÿ', 'ç»å…´': 'æµ™æ±Ÿ',
    'é‡‘å': 'æµ™æ±Ÿ', 'è¡¢å·': 'æµ™æ±Ÿ', 'èˆŸå±±': 'æµ™æ±Ÿ', 'å°å·': 'æµ™æ±Ÿ', 'ä¸½æ°´': 'æµ™æ±Ÿ',
    'å»ºå¾·': 'æµ™æ±Ÿ', 'ä¸´å®‰': 'æµ™æ±Ÿ', 'ä½™å§š': 'æµ™æ±Ÿ', 'æ…ˆæºª': 'æµ™æ±Ÿ', 'ç‘å®‰': 'æµ™æ±Ÿ',
    'ä¹æ¸…': 'æµ™æ±Ÿ', 'æµ·å®': 'æµ™æ±Ÿ', 'å¹³æ¹–': 'æµ™æ±Ÿ', 'æ¡ä¹¡': 'æµ™æ±Ÿ', 'è¯¸æš¨': 'æµ™æ±Ÿ', 'åµŠå·': 'æµ™æ±Ÿ',
    // å®‰å¾½
    'èŠœæ¹–': 'å®‰å¾½', 'èšŒåŸ ': 'å®‰å¾½', 'æ·®å—': 'å®‰å¾½', 'é©¬éå±±': 'å®‰å¾½', 'æ·®åŒ—': 'å®‰å¾½',
    'é“œé™µ': 'å®‰å¾½', 'å®‰åº†': 'å®‰å¾½', 'é»„å±±': 'å®‰å¾½', 'æ»å·': 'å®‰å¾½', 'é˜œé˜³': 'å®‰å¾½', 'å®¿å·': 'å®‰å¾½',
    'å…­å®‰': 'å®‰å¾½', 'äº³å·': 'å®‰å¾½', 'æ± å·': 'å®‰å¾½', 'å®£åŸ': 'å®‰å¾½', 'ç•Œé¦–': 'å®‰å¾½', 'æ¡åŸ': 'å®‰å¾½',
    'å®å›½': 'å®‰å¾½', 'å¤©é•¿': 'å®‰å¾½', 'æ˜å…‰': 'å®‰å¾½',
    // ç¦å»º
    'è†ç”°': 'ç¦å»º', 'ä¸‰æ˜': 'ç¦å»º', 'æ³‰å·': 'ç¦å»º', 'æ¼³å·': 'ç¦å»º', 'å—å¹³': 'ç¦å»º',
    'é¾™å²©': 'ç¦å»º', 'å®å¾·': 'ç¦å»º', 'ç¦æ¸…': 'ç¦å»º', 'é‚µæ­¦': 'ç¦å»º', 'æ­¦å¤·å±±': 'ç¦å»º',
    'å»ºç“¯': 'ç¦å»º', 'æ°¸å®‰': 'ç¦å»º', 'çŸ³ç‹®': 'ç¦å»º', 'æ™‹æ±Ÿ': 'ç¦å»º', 'å—å®‰': 'ç¦å»º',
    'é¾™æµ·': 'ç¦å»º', 'æ¼³å¹³': 'ç¦å»º',
    // æ±Ÿè¥¿
    'æ™¯å¾·é•‡': 'æ±Ÿè¥¿', 'èä¹¡': 'æ±Ÿè¥¿', 'ä¹æ±Ÿ': 'æ±Ÿè¥¿', 'æ–°ä½™': 'æ±Ÿè¥¿', 'é¹°æ½­': 'æ±Ÿè¥¿',
    'èµ£å·': 'æ±Ÿè¥¿', 'å‰å®‰': 'æ±Ÿè¥¿', 'å®œæ˜¥': 'æ±Ÿè¥¿', 'æŠšå·': 'æ±Ÿè¥¿', 'ä¸Šé¥¶': 'æ±Ÿè¥¿',
    'ç‘æ˜Œ': 'æ±Ÿè¥¿', 'ä¹å¹³': 'æ±Ÿè¥¿', 'ç‘é‡‘': 'æ±Ÿè¥¿', 'å¾·å…´': 'æ±Ÿè¥¿', 'è´µæºª': 'æ±Ÿè¥¿',
    'æ¨Ÿæ ‘': 'æ±Ÿè¥¿', 'ä¸°åŸ': 'æ±Ÿè¥¿', 'é«˜å®‰': 'æ±Ÿè¥¿',
    // å±±ä¸œ
    'é’å²›': 'å±±ä¸œ', 'æ·„åš': 'å±±ä¸œ', 'æ£åº„': 'å±±ä¸œ', 'ä¸œè¥': 'å±±ä¸œ', 'çƒŸå°': 'å±±ä¸œ',
    'æ½åŠ': 'å±±ä¸œ', 'æµå®': 'å±±ä¸œ', 'æ³°å®‰': 'å±±ä¸œ', 'å¨æµ·': 'å±±ä¸œ', 'æ—¥ç…§': 'å±±ä¸œ', 'ä¸´æ²‚': 'å±±ä¸œ',
    'å¾·å·': 'å±±ä¸œ', 'èŠåŸ': 'å±±ä¸œ', 'æ»¨å·': 'å±±ä¸œ', 'èæ³½': 'å±±ä¸œ', 'èƒ¶å·': 'å±±ä¸œ',
    'å³å¢¨': 'å±±ä¸œ', 'å¹³åº¦': 'å±±ä¸œ', 'è±è¥¿': 'å±±ä¸œ', 'æ»•å·': 'å±±ä¸œ', 'é¾™å£': 'å±±ä¸œ',
    'è±é˜³': 'å±±ä¸œ', 'è±å·': 'å±±ä¸œ', 'æ‹›è¿œ': 'å±±ä¸œ', 'æ –éœ': 'å±±ä¸œ', 'é’å·': 'å±±ä¸œ', 'è¯¸åŸ': 'å±±ä¸œ', 'å¯¿å…‰': 'å±±ä¸œ',
    // æ²³å—
    'å¼€å°': 'æ²³å—', 'æ´›é˜³': 'æ²³å—', 'å¹³é¡¶å±±': 'æ²³å—', 'å®‰é˜³': 'æ²³å—', 'é¹¤å£': 'æ²³å—',
    'æ–°ä¹¡': 'æ²³å—', 'ç„¦ä½œ': 'æ²³å—', 'æ¿®é˜³': 'æ²³å—', 'è®¸æ˜Œ': 'æ²³å—', 'æ¼¯æ²³': 'æ²³å—',
    'ä¸‰é—¨å³¡': 'æ²³å—', 'å—é˜³': 'æ²³å—', 'å•†ä¸˜': 'æ²³å—', 'ä¿¡é˜³': 'æ²³å—', 'å‘¨å£': 'æ²³å—',
    'é©»é©¬åº—': 'æ²³å—', 'è¥é˜³': 'æ²³å—', 'æ–°éƒ‘': 'æ²³å—', 'ç™»å°': 'æ²³å—', 'å·©ä¹‰': 'æ²³å—',
    'æ–°å¯†': 'æ²³å—', 'åƒå¸ˆ': 'æ²³å—', 'èˆé’¢': 'æ²³å—', 'æ±å·': 'æ²³å—', 'æ—å·': 'æ²³å—',
    'å«è¾‰': 'æ²³å—', 'è¾‰å¿': 'æ²³å—', 'æ²é˜³': 'æ²³å—',
    // æ¹–åŒ—
    'é»„çŸ³': 'æ¹–åŒ—', 'åå °': 'æ¹–åŒ—', 'å®œæ˜Œ': 'æ¹–åŒ—', 'è¥„é˜³': 'æ¹–åŒ—', 'é„‚å·': 'æ¹–åŒ—',
    'è†é—¨': 'æ¹–åŒ—', 'å­æ„Ÿ': 'æ¹–åŒ—', 'è†å·': 'æ¹–åŒ—', 'é»„å†ˆ': 'æ¹–åŒ—', 'å’¸å®': 'æ¹–åŒ—',
    'éšå·': 'æ¹–åŒ—', 'å¤§å†¶': 'æ¹–åŒ—', 'ä¸¹æ±Ÿå£': 'æ¹–åŒ—', 'å®œéƒ½': 'æ¹–åŒ—', 'å½“é˜³': 'æ¹–åŒ—',
    'ææ±Ÿ': 'æ¹–åŒ—', 'è€æ²³å£': 'æ¹–åŒ—', 'æ£é˜³': 'æ¹–åŒ—', 'å®œåŸ': 'æ¹–åŒ—', 'é’Ÿç¥¥': 'æ¹–åŒ—',
    'äº¬å±±': 'æ¹–åŒ—', 'å®‰é™†': 'æ¹–åŒ—', 'æ½œæ±Ÿ': 'æ¹–åŒ—', 'ä»™æ¡ƒ': 'æ¹–åŒ—', 'å¤©é—¨': 'æ¹–åŒ—',
    // æ¹–å—
    'æ ªæ´²': 'æ¹–å—', 'æ¹˜æ½­': 'æ¹–å—', 'è¡¡é˜³': 'æ¹–å—', 'é‚µé˜³': 'æ¹–å—', 'å²³é˜³': 'æ¹–å—',
    'å¸¸å¾·': 'æ¹–å—', 'å¼ å®¶ç•Œ': 'æ¹–å—', 'ç›Šé˜³': 'æ¹–å—', 'éƒ´å·': 'æ¹–å—', 'æ°¸å·': 'æ¹–å—',
    'æ€€åŒ–': 'æ¹–å—', 'å¨„åº•': 'æ¹–å—', 'æµé˜³': 'æ¹–å—', 'é†´é™µ': 'æ¹–å—', 'éŸ¶å±±': 'æ¹–å—',
    'è€’é˜³': 'æ¹–å—', 'å¸¸å®': 'æ¹–å—', 'æ­¦å†ˆ': 'æ¹–å—', 'æ±¨ç½—': 'æ¹–å—', 'ä¸´æ¹˜': 'æ¹–å—',
    'æ´¥å¸‚': 'æ¹–å—', 'æ²…æ±Ÿ': 'æ¹–å—', 'èµ„å…´': 'æ¹–å—', 'æ´ªæ±Ÿ': 'æ¹–å—', 'å¹³æ±Ÿå¿': 'æ¹–å—',
    // å¹¿ä¸œ
    'ç æµ·': 'å¹¿ä¸œ', 'æ±•å¤´': 'å¹¿ä¸œ', 'ä½›å±±': 'å¹¿ä¸œ', 'éŸ¶å…³': 'å¹¿ä¸œ', 'æ¹›æ±Ÿ': 'å¹¿ä¸œ',
    'è‚‡åº†': 'å¹¿ä¸œ', 'æ±Ÿé—¨': 'å¹¿ä¸œ', 'èŒ‚å': 'å¹¿ä¸œ', 'æƒ å·': 'å¹¿ä¸œ', 'æ¢…å·': 'å¹¿ä¸œ',
    'æ±•å°¾': 'å¹¿ä¸œ', 'æ²³æº': 'å¹¿ä¸œ', 'é˜³æ±Ÿ': 'å¹¿ä¸œ', 'æ¸…è¿œ': 'å¹¿ä¸œ', 'ä¸œè': 'å¹¿ä¸œ',
    'ä¸­å±±': 'å¹¿ä¸œ', 'æ½®å·': 'å¹¿ä¸œ', 'æ­é˜³': 'å¹¿ä¸œ', 'äº‘æµ®': 'å¹¿ä¸œ', 'ä¹æ˜Œ': 'å¹¿ä¸œ',
    'å—é›„': 'å¹¿ä¸œ', 'å°å±±': 'å¹¿ä¸œ', 'å¼€å¹³': 'å¹¿ä¸œ', 'é¹¤å±±': 'å¹¿ä¸œ', 'æ©å¹³': 'å¹¿ä¸œ', 'å»‰æ±Ÿ': 'å¹¿ä¸œ',
    'é›·å·': 'å¹¿ä¸œ', 'å´å·': 'å¹¿ä¸œ', 'åŒ–å·': 'å¹¿ä¸œ', 'ä¿¡å®œ': 'å¹¿ä¸œ', 'é«˜å·': 'å¹¿ä¸œ',
    'å››ä¼š': 'å¹¿ä¸œ', 'å…´å®': 'å¹¿ä¸œ', 'é™†ä¸°': 'å¹¿ä¸œ', 'é˜³æ˜¥': 'å¹¿ä¸œ', 'è‹±å¾·': 'å¹¿ä¸œ',
    'è¿å·': 'å¹¿ä¸œ', 'æ™®å®': 'å¹¿ä¸œ', 'ç½—å®š': 'å¹¿ä¸œ',
    // å¹¿è¥¿
    'æŸ³å·': 'å¹¿è¥¿', 'æ¡‚æ—': 'å¹¿è¥¿', 'æ¢§å·': 'å¹¿è¥¿', 'åŒ—æµ·': 'å¹¿è¥¿', 'é˜²åŸæ¸¯': 'å¹¿è¥¿',
    'é’¦å·': 'å¹¿è¥¿', 'è´µæ¸¯': 'å¹¿è¥¿', 'ç‰æ—': 'å¹¿è¥¿', 'ç™¾è‰²': 'å¹¿è¥¿', 'è´ºå·': 'å¹¿è¥¿',
    'æ²³æ± ': 'å¹¿è¥¿', 'æ¥å®¾': 'å¹¿è¥¿', 'å´‡å·¦': 'å¹¿è¥¿', 'å²‘æºª': 'å¹¿è¥¿', 'ä¸œå…´': 'å¹¿è¥¿',
    'æ¡‚å¹³': 'å¹¿è¥¿', 'åŒ—æµ': 'å¹¿è¥¿', 'é–è¥¿': 'å¹¿è¥¿', 'å¹³æœ': 'å¹¿è¥¿', 'å‡­ç¥¥': 'å¹¿è¥¿',
    'åˆå±±': 'å¹¿è¥¿', 'è”æµ¦': 'å¹¿è¥¿', 'æ¨ªå·': 'å¹¿è¥¿',
    // æµ·å—
    'ä¸‰äºš': 'æµ·å—', 'ä¸‰æ²™': 'æµ·å—', 'å„‹å·': 'æµ·å—', 'äº”æŒ‡å±±': 'æµ·å—', 'ç¼æµ·': 'æµ·å—',
    'æ–‡æ˜Œ': 'æµ·å—', 'ä¸‡å®': 'æµ·å—', 'ä¸œæ–¹': 'æµ·å—', 'é™µæ°´': 'æµ·å—',
    // å››å·
    'è‡ªè´¡': 'å››å·', 'æ”€æèŠ±': 'å››å·', 'æ³¸å·': 'å››å·', 'å¾·é˜³': 'å››å·', 'ç»µé˜³': 'å››å·',
    'å¹¿å…ƒ': 'å››å·', 'é‚å®': 'å››å·', 'å†…æ±Ÿ': 'å››å·', 'ä¹å±±': 'å››å·', 'å—å……': 'å››å·',
    'çœ‰å±±': 'å››å·', 'å®œå®¾': 'å››å·', 'å¹¿å®‰': 'å››å·', 'è¾¾å·': 'å››å·', 'é›…å®‰': 'å››å·',
    'å·´ä¸­': 'å››å·', 'èµ„é˜³': 'å››å·', 'éƒ½æ±Ÿå °': 'å››å·', 'å½­å·': 'å››å·', 'é‚›å´ƒ': 'å››å·',
    'å´‡å·': 'å››å·', 'å¹¿æ±‰': 'å››å·', 'ä»€é‚¡': 'å››å·', 'ç»µç«¹': 'å››å·', 'æ±Ÿæ²¹': 'å››å·',
    'å³¨çœ‰å±±': 'å››å·', 'é˜†ä¸­': 'å››å·', 'åè“¥': 'å››å·', 'ä¸‡æº': 'å››å·', 'ç®€é˜³': 'å››å·', 'è¥¿æ˜Œ': 'å››å·',
    // è´µå·
    'å…­ç›˜æ°´': 'è´µå·', 'éµä¹‰': 'è´µå·', 'å®‰é¡º': 'è´µå·', 'æ¯•èŠ‚': 'è´µå·', 'é“œä»': 'è´µå·',
    'æ¸…é•‡': 'è´µå·', 'èµ¤æ°´': 'è´µå·', 'ä»æ€€': 'è´µå·', 'å‡¯é‡Œ': 'è´µå·', 'éƒ½åŒ€': 'è´µå·',
    'å…´ä¹‰': 'è´µå·', 'ç¦æ³‰': 'è´µå·',
    // äº‘å—
    'æ›²é–': 'äº‘å—', 'ç‰æºª': 'äº‘å—', 'ä¿å±±': 'äº‘å—', 'æ˜­é€š': 'äº‘å—', 'ä¸½æ±Ÿ': 'äº‘å—',
    'æ™®æ´±': 'äº‘å—', 'ä¸´æ²§': 'äº‘å—', 'å®‰å®': 'äº‘å—', 'å®£å¨': 'äº‘å—', 'è…¾å†²': 'äº‘å—',
    'æ¥šé›„': 'äº‘å—', 'å¤§ç†': 'äº‘å—', 'æ™¯æ´ª': 'äº‘å—', 'èŠ’å¸‚': 'äº‘å—', 'ç‘ä¸½': 'äº‘å—',
    // è¥¿è—
    'æ—¥å–€åˆ™': 'è¥¿è—', 'æ˜Œéƒ½': 'è¥¿è—', 'æ—èŠ': 'è¥¿è—', 'å±±å—': 'è¥¿è—', 'é‚£æ›²': 'è¥¿è—',
    // é™•è¥¿
    'é“œå·': 'é™•è¥¿', 'å®é¸¡': 'é™•è¥¿', 'å’¸é˜³': 'é™•è¥¿', 'æ¸­å—': 'é™•è¥¿', 'å»¶å®‰': 'é™•è¥¿',
    'æ±‰ä¸­': 'é™•è¥¿', 'æ¦†æ—': 'é™•è¥¿', 'å®‰åº·': 'é™•è¥¿', 'å•†æ´›': 'é™•è¥¿', 'å…´å¹³': 'é™•è¥¿',
    'éŸ©åŸ': 'é™•è¥¿', 'åé˜´': 'é™•è¥¿',
    // ç”˜è‚ƒ
    'é‡‘æ˜Œ': 'ç”˜è‚ƒ', 'ç™½é“¶': 'ç”˜è‚ƒ', 'å¤©æ°´': 'ç”˜è‚ƒ', 'æ­¦å¨': 'ç”˜è‚ƒ', 'å¼ æ–': 'ç”˜è‚ƒ',
    'å¹³å‡‰': 'ç”˜è‚ƒ', 'é…’æ³‰': 'ç”˜è‚ƒ', 'åº†é˜³': 'ç”˜è‚ƒ', 'å®šè¥¿': 'ç”˜è‚ƒ', 'é™‡å—': 'ç”˜è‚ƒ',
    'ç‰é—¨': 'ç”˜è‚ƒ', 'æ•¦ç…Œ': 'ç”˜è‚ƒ', 'åˆä½œ': 'ç”˜è‚ƒ', 'æ´®å—å¸‚': 'ç”˜è‚ƒ',
    // é’æµ·
    'æµ·ä¸œ': 'é’æµ·', 'æ ¼å°”æœ¨': 'é’æµ·', 'å¾·ä»¤å“ˆ': 'é’æµ·',
    // å®å¤
    'çŸ³å˜´å±±': 'å®å¤', 'å´å¿ ': 'å®å¤', 'å›ºåŸ': 'å®å¤', 'ä¸­å«': 'å®å¤',
    'çµæ­¦': 'å®å¤', 'é’é“œå³¡': 'å®å¤',
    // æ–°ç–†
    'å…‹æ‹‰ç›ä¾': 'æ–°ç–†', 'åé²ç•ª': 'æ–°ç–†', 'å“ˆå¯†': 'æ–°ç–†', 'æ˜Œå‰': 'æ–°ç–†', 'åšå°”å¡”æ‹‰': 'æ–°ç–†',
    'å·´éŸ³éƒ­æ¥': 'æ–°ç–†', 'é˜¿å…‹è‹': 'æ–°ç–†', 'å…‹å­œå‹’è‹': 'æ–°ç–†', 'å–€ä»€': 'æ–°ç–†', 'å’Œç”°': 'æ–°ç–†',
    'ä¼ŠçŠ': 'æ–°ç–†', 'å¡”åŸ': 'æ–°ç–†', 'é˜¿å‹’æ³°': 'æ–°ç–†', 'é˜œåº·': 'æ–°ç–†', 'åº“å°”å‹’': 'æ–°ç–†',
    'é˜¿å›¾ä»€': 'æ–°ç–†', 'é˜¿å…‹è‹å¸‚': 'æ–°ç–†', 'å–€ä»€å¸‚': 'æ–°ç–†', 'å’Œç”°å¸‚': 'æ–°ç–†', 'ä¼Šå®': 'æ–°ç–†',
    'å¥å±¯': 'æ–°ç–†', 'å¡”åŸ': 'æ–°ç–†', 'ä¹Œè‹': 'æ–°ç–†', 'é˜¿å‹’æ³°': 'æ–°ç–†'
};

// æ™ºèƒ½é€‰æ‹©åŸå¸‚ï¼šä¼˜å…ˆé€‰æ‹©çœä»½åé¢çš„åŸå¸‚ï¼ˆé¿å…è¯¯é€‰çœä»½åï¼‰
function selectBestCity(autoCities, title) {
    if (autoCities.length === 0) {
        return null;
    }

    if (autoCities.length === 1) {
        return autoCities[0];
    }

    // æŸ¥æ‰¾æ ‡é¢˜ä¸­çš„"å¿«é€’é‡Œçš„ä¸­å›½"æ ‡è®°åçš„åŸå¸‚
    const markerIndex = title.indexOf('å¿«é€’é‡Œçš„ä¸­å›½');
    if (markerIndex === -1) {
        // æ²¡æœ‰æ‰¾åˆ°æ ‡è®°ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŸå¸‚
        return autoCities[0];
    }

    // æå–æ ‡è®°åçš„æ–‡æœ¬
    const afterMarker = title.substring(markerIndex);

    // è¿‡æ»¤å‡ºåœ¨æ ‡è®°åå‡ºç°çš„åŸå¸‚
    const citiesAfterMarker = autoCities.filter(city => {
        // æŸ¥æ‰¾åŸå¸‚åœ¨æ ‡è®°åæ–‡æœ¬ä¸­çš„æœ€åä½ç½®
        const lastIndex = afterMarker.lastIndexOf(city);
        if (lastIndex === -1) {
            return false;
        }

        // ç¡®ä¿åŸå¸‚åæ˜¯å®Œæ•´åŒ¹é…ï¼ˆä¸æ˜¯å­ä¸²ï¼‰
        const before = afterMarker[lastIndex - 1] || '';
        const after = afterMarker[lastIndex + city.length] || '';
        const hasWordBoundary = !isWordChar(before) && !isWordChar(after);

        return hasWordBoundary;
    });

    // å¦‚æœæ ‡è®°åæ‰¾åˆ°äº†åŸå¸‚
    if (citiesAfterMarker.length > 0) {
        // å¦‚æœåªæœ‰ä¸€ä¸ªåŸå¸‚ï¼Œç›´æ¥è¿”å›
        if (citiesAfterMarker.length === 1) {
            return citiesAfterMarker[0];
        }

        // å¦‚æœæœ‰å¤šä¸ªåŸå¸‚ï¼ˆä¾‹å¦‚ï¼š"å‰æ— ç™½åŸ"ï¼‰ï¼Œä¼˜å…ˆé€‰æ‹©éçœä»½åçš„åŸå¸‚
        // è·å–æ‰€æœ‰åŸå¸‚å¯¹åº”çš„çœä»½
        const citiesWithProvinces = citiesAfterMarker.map(city => ({
            city,
            province: CITY_TO_PROVINCE[city]
        }));

        // æ£€æŸ¥æ˜¯å¦æœ‰çœä»½åé‡å¤çš„æƒ…å†µï¼ˆå³åŸå¸‚åä¹Ÿæ˜¯çœä»½åï¼‰
        const hasProvinceNameAsCity = citiesWithProvinces.some(c => c.city === c.province);

        if (hasProvinceNameAsCity) {
            // æ‰¾å‡ºä¸æ˜¯çœä»½åçš„åŸå¸‚
            const nonProvinceCities = citiesAfterMarker.filter(city => {
                const province = CITY_TO_PROVINCE[city];
                return province && city !== province;
            });

            // å¦‚æœæ‰¾åˆ°äº†éçœä»½åçš„åŸå¸‚ï¼Œè¿”å›ç¬¬ä¸€ä¸ª
            if (nonProvinceCities.length > 0) {
                return nonProvinceCities[0];
            }
        }

        // å›é€€ï¼šè¿”å›ç¬¬ä¸€ä¸ªåŸå¸‚
        return citiesAfterMarker[0];
    }

    // å›é€€ï¼šè¿”å›æŒ‰é•¿åº¦æ’åºåçš„ç¬¬ä¸€ä¸ªåŸå¸‚
    return autoCities[0];
}

// åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡å­—å­—ç¬¦ï¼ˆç”¨äºå•è¯è¾¹ç•Œæ£€æŸ¥ï¼‰
function isWordChar(char) {
    return /[\u4e00-\u9fa5a-zA-Z0-9]/.test(char);
}

// å°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºåŸå¸‚æ ¼å¼ï¼ˆä¿ç•™ manualCityï¼‰
function processRawData(rawData, existingData) {
    const cityData = {};

    rawData.forEach(rawVideo => {
        // æå–åŸå¸‚åç§°
        const autoCities = extractCitiesFromTitle(rawVideo.title);

        // æ™ºèƒ½é€‰æ‹©æœ€ä½³åŸå¸‚
        let city = selectBestCity(autoCities, rawVideo.title);
        let manualCity = null;

        // æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ç›¸åŒçš„è§†é¢‘ï¼ˆä¿ç•™ manualCityï¼‰
        const existing = findVideoByTitleAndUrl(existingData, rawVideo);

        if (existing.found) {
            // åªä¿ç•™ manualCityï¼ŒåŸå¸‚åç§°ä½¿ç”¨æ–°è®¡ç®—çš„å€¼
            manualCity = existing.video.manualCity;

            // å¦‚æœæœ‰ manualCityï¼Œä¼˜å…ˆä½¿ç”¨
            if (manualCity) {
                city = manualCity;
                console.log(`  âœ“ ä½¿ç”¨ manualCity: ${city}`);
            }
        }

        if (!city) {
            console.warn(`  âš ï¸  æ— æ³•æå–åŸå¸‚: ${rawVideo.title}`);
            return;
        }

        // è·å–çœä»½
        const province = CITY_TO_PROVINCE[city];

        if (!province) {
            console.warn(`  âš ï¸  æ— æ³•ç¡®å®šåŸå¸‚ "${city}" çš„çœä»½`);
            return;
        }

        // æ·»åŠ åˆ°åŸå¸‚æ•°æ®
        if (!cityData[city]) {
            cityData[city] = { videos: [] };
        }

        cityData[city].videos.push({
            title: rawVideo.title,
            url: rawVideo.url,
            date: rawVideo.date || new Date().toISOString().split('T')[0],
            aid: rawVideo.aid || 0,
            bvid: rawVideo.bvid || '',
            views: rawVideo.view || rawVideo.views || 0,
            danmaku: rawVideo.danmaku || 0,
            city: city,
            autoCities: autoCities,
            manualCity: manualCity  // ä¿ç•™ç°æœ‰ manualCity
        });
    });

    return cityData;
}

// è½¬æ¢ä¸ºçœä»½æ•°æ®
function convertToProvinceData(cityData) {
    const provinceData = {};

    Object.entries(cityData).forEach(([city, cityInfo]) => {
        const videos = cityInfo.videos || [];

        videos.forEach(video => {
            const city = video.city || 'æœªåˆ†ç±»';
            const province = CITY_TO_PROVINCE[city];

            if (!province) {
                console.warn(`âš ï¸  æ— æ³•ç¡®å®šåŸå¸‚ "${city}" çš„çœä»½`);
                return;
            }

            if (!provinceData[province]) {
                provinceData[province] = { videos: [] };
            }

            provinceData[province].videos.push(video);
        });
    });

    return provinceData;
}

// ç”Ÿæˆè¾“å‡º
function generateOutput(provinceData) {
    const sortedProvinces = Object.keys(provinceData).sort();

    const provincesStr = sortedProvinces.map(province => {
        const provinceVideos = provinceData[province].videos.sort((a, b) => new Date(b.date) - new Date(a.date));

        const videosStr = provinceVideos.map(video => {
            const title = video.title.replace(/\\/g, '\\\\').replace(/"/g, '\\"');
            const autoCitiesStr = JSON.stringify(video.autoCities);
            const manualCityStr = video.manualCity ? `"${video.manualCity}"` : 'null';
            const cityStr = video.city ? `"${video.city}"` : 'null';

            return `        {
                title: "${title}",
                url: "${video.url}",
                date: "${video.date}",
                aid: ${video.aid},
                bvid: "${video.bvid}",
                views: ${video.views},
                danmaku: ${video.danmaku},
                city: ${cityStr},
                autoCities: ${autoCitiesStr},
                manualCity: ${manualCityStr}
            }`;
        }).join(',\n');

        return `    "${province}": {
        videos: [
${videosStr}
        ]
    }`;
    }).join(',\n\n');

    return `// åŸå¸‚æ•°æ®é…ç½®ï¼ˆæŒ‰çœä»½ç»„ç»‡ï¼‰
// åŸå¸‚åç§°éœ€è¦ä¸ ECharts åœ°å›¾æ•°æ®åŒ¹é…
// æ•°æ®æ¥æºï¼šå“”å“©å“”å“©UPä¸» è€çŒ«é±¼ä¸åƒé±¼
// æœ€åæ›´æ–°æ—¶é—´: ${new Date().toISOString()}
//
// æ•°æ®è¯´æ˜ï¼š
// - city: åŸå¸‚åç§°ï¼ˆä¼˜å…ˆä½¿ç”¨ manualCityï¼Œå¦åˆ™ä½¿ç”¨ autoCitiesï¼‰
// - autoCities: è‡ªåŠ¨ä»æ ‡é¢˜ä¸­æå–çš„åŸå¸‚æ•°ç»„
// - manualCity: äººå·¥æ‰‹åŠ¨æ ‡è®°çš„åŸå¸‚
//
// çœä»½åŒ…å«è¯¥çœä»½ä¸‹çš„æ‰€æœ‰åŸå¸‚è§†é¢‘

const provinceData = {
${provincesStr}
};
`;
}

// ä¸»å‡½æ•°
async function main() {
    console.log('='.repeat(60));
    console.log('æ•°æ®å¤„ç†æµæ°´çº¿');
    console.log('='.repeat(60));

    // è¯»å–åŸå§‹æ•°æ®
    const rawData = readRawData();

    // è¯»å–ç°æœ‰æ•°æ®ï¼ˆä¿ç•™ manualCityï¼‰
    const existingData = readExistingData();

    // å¤„ç†æ•°æ®
    console.log('\næ­£åœ¨å¤„ç†æ•°æ®...');
    const cityData = processRawData(rawData, existingData);

    if (Object.keys(cityData).length === 0) {
        console.error('\nâŒ é”™è¯¯: æ²¡æœ‰æœ‰æ•ˆçš„æ•°æ®');
        process.exit(1);
    }

    // è½¬æ¢ä¸ºçœä»½æ•°æ®
    const provinceData = convertToProvinceData(cityData);

    // ç”Ÿæˆè¾“å‡º
    const output = generateOutput(provinceData);

    // ç»Ÿè®¡ä¿¡æ¯
    console.log('\n' + '='.repeat(60));
    console.log('ğŸ“Š å¤„ç†ç»Ÿè®¡');
    console.log('='.repeat(60));
    console.log(`\næ€»è§†é¢‘æ•°: ${Object.values(provinceData).reduce((sum, p) => sum + p.videos.length, 0)}`);
    console.log(`è¦†ç›–çœä»½æ•°: ${sortedProvinces = Object.keys(provinceData).sort().length}`);
    console.log(`è¦†ç›–åŸå¸‚æ•°: ${Object.keys(cityData).length}`);

    // æ˜¾ç¤ºä¿ç•™çš„ manualCity
    let preservedManualCities = 0;
    Object.values(provinceData).forEach(p => {
        p.videos.forEach(v => {
            if (v.manualCity) {
                preservedManualCities++;
            }
        });
    });
    if (preservedManualCities > 0) {
        console.log(`\nâœ“ ä¿ç•™ç°æœ‰ manualCity: ${preservedManualCities} ä¸ª`);
    }

    // å†™å…¥æ–‡ä»¶
    const outputPath = path.join(__dirname, '..', 'data', 'data.js');
    fs.writeFileSync(outputPath, output, 'utf8');

    console.log('\n' + '='.repeat(60));
    console.log('âœ“ æ•°æ®å·²å¤„ç†å¹¶ä¿å­˜åˆ°: data/data.js');
    console.log('='.repeat(60));
}

// è¿è¡Œä¸»å‡½æ•°
main().catch(error => {
    console.error('\nâŒ å‘ç”Ÿé”™è¯¯:', error);
    process.exit(1);
});
